import N from"@stackblitz/sdk";import{ref as c,computed as m,unref as l,onMounted as s,isRef as w,watch as k,defineComponent as x,h}from"vue";import"../styles/stack-blitz.scss";import{isString as f}from"@vuepress/shared";import{useEventListener as g}from"@vueuse/core";const b=t=>f(t)?t:`${t}px`,z=(t,e=0)=>{const o=c(),d=m(()=>b(l(t.width)||"100%")),r=c("auto"),y=i=>{if(f(i)){const[n,u]=i.split(":"),p=Number(n)/Number(u);if(!Number.isNaN(p))return p}return typeof i=="number"?i:16/9},S=i=>{const n=l(t.height),u=y(l(t.ratio));return n?b(n):`${Number(i)/u+l(e)}px`},a=()=>{o.value&&(r.value=S(o.value.clientWidth))};return s(()=>{a(),w(e)&&k(e,()=>a()),g("orientationchange",()=>a()),g("resize",()=>a())}),{el:o,width:d,height:r}},v=N;var B=x({name:"StackBlitz",props:{id:{type:String,required:!0},type:{type:String,default:"project"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:[String,Number],default:16/9},file:{type:[String,Array],default:""},initialPath:{type:String,default:""},embed:Boolean,load:Boolean,view:{type:String,default:"preview"},hideExplorer:Boolean,hideNavigation:Boolean,hideDevtools:Boolean,terminalHeight:{type:[String,Number],default:30},devToolsHeight:{type:[String,Number],default:30},text:{type:String,default:"Open in StackBlitz"},theme:{type:String,default:"dark"}},setup(t){const{el:e,width:o,height:d}=z(t),r=m(()=>({openFile:t.file,view:t.view,theme:t.theme,clickToLoad:t.load,hideExplorer:t.hideExplorer,hideNavigation:t.hideNavigation,hideDevTools:t.hideDevtools,initialPath:t.initialPath}));return s(()=>{t.embed&&v[t.type==="github"?"embedGithubProject":"embedProjectId"](e.value,t.id,r.value)}),()=>t.embed?h("div",{ref:e,class:"stackblitz-container",style:{width:o.value,height:d.value}}):h("div",{class:"stackblitz-container"},h("button",{class:"stackblitz-button",onClick:()=>{v[t.type==="github"?"openGithubProject":"openProjectId"](t.id,r.value)}},t.text))}});export{B as default};
//# sourceMappingURL=StackBlitz.js.map
