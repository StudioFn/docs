import{defineComponent as s,ref as l,computed as n,onMounted as d,onBeforeMount as u,h as e}from"vue";import"plyr/dist/plyr.css";import"../styles/video-player.scss";import{withBase as c}from"@vuepress/client";import{isLinkHttp as y}from"@vuepress/shared";const o=t=>y(t)?t:c(t);var f=s({name:"VideoPlayer",props:{options:{type:Object,default:()=>({})},src:{type:String,required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},tracks:{type:Array,default:()=>[]},poster:{type:String,default:""},width:{type:[String,Number],default:"100%"},loop:Boolean},setup(t){let a=null;const i=l(),p=n(()=>({hideYouTubeDOMError:!0,...t.options}));return d(async()=>{const{default:r}=await import("plyr");a=new r(i.value,p.value)}),u(()=>{try{a==null||a.destroy()}catch{}}),()=>e("div",{class:"video-player-wrapper",style:{width:t.width}},[e("a",{class:"sr-only",href:o(t.src)},t.title),e("video",{ref:i,title:t.title,crossorigin:"anonymous",poster:o(t.poster),preload:"metadata",controls:"",...t.loop?{loop:""}:{}},[...t.tracks.map(r=>e("track",{...r,src:o(r.src)})),e("source",{src:o(t.src),type:t.type})])])}});export{f as default};
//# sourceMappingURL=VideoPlayer.js.map
