import{ref as d,computed as c,unref as l,onMounted as w,isRef as b,watch as N,defineComponent as S,h as s}from"vue";import"../styles/xi-gua.scss";import{isString as f}from"@vuepress/shared";import{useEventListener as h}from"@vueuse/core";const g=e=>f(e)?e:`${e}px`,x=(e,i=0)=>{const r=d(),n=c(()=>g(l(e.width)||"100%")),a=d("auto"),y=t=>{if(f(t)){const[o,p]=t.split(":"),m=Number(o)/Number(p);if(!Number.isNaN(m))return m}return typeof t=="number"?t:16/9},v=t=>{const o=l(e.height),p=y(l(e.ratio));return o?g(o):`${Number(t)/p+l(i)}px`},u=()=>{r.value&&(a.value=v(r.value.clientWidth))};return w(()=>{u(),b(i)&&N(i,()=>u()),h("orientationchange",()=>u()),h("resize",()=>u())}),{el:r,width:n,height:a}},$="accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; picture-in-picture";var G=S({name:"XiGua",props:{id:{type:String,required:!0},title:{type:String,default:"A XiGua video"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:[String,Number],default:16/9},time:{type:[String,Number],default:0},autoplay:Boolean},setup(e){const{el:i,width:r,height:n}=x(e),a=c(()=>`https://www.ixigua.com/iframe/${e.id}?startTime=${e.time}&autoplay=${e.autoplay?1:0}`);return()=>[s("div",{class:"xi-gua-desc"},s("a",{class:"sr-only",href:a.value},e.title)),s("iframe",{ref:i,src:a.value,title:e.title,class:"xi-gua-iframe",allow:$,style:{width:r.value,height:n.value}})]}});export{G as default};
//# sourceMappingURL=XiGua.js.map
